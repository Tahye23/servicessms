// Variables
$primary-color: #3b82f6;
$secondary-color: #8b5cf6;
$success-color: #10b981;
$error-color: #ef4444;
$warning-color: #f59e0b;
$info-color: #06b6d4;

// Gradients
$primary-gradient: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
$success-gradient: linear-gradient(135deg, #10b981 0%, #059669 100%);
$error-gradient: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
$info-gradient: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);

// Couleurs de fond
$bg-primary: #f8fafc;
$bg-secondary: #f1f5f9;
$bg-accent: #e2e8f0;

// Mixins
@mixin smooth-transition($duration: 0.3s) {
  transition: all $duration ease-in-out;
}

@mixin glass-effect {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

@mixin card-shadow {
  box-shadow:
    0 10px 15px -3px rgba(0, 0, 0, 0.1),
    0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

@mixin card-shadow-hover {
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

@mixin button-primary {
  background: $primary-gradient;
  color: white;
  @include smooth-transition;
  @include card-shadow;

  &:hover {
    transform: translateY(-2px);
    @include card-shadow-hover;
  }

  &:active {
    transform: translateY(0);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
  }
}

@mixin button-success {
  background: $success-gradient;
  color: white;
  @include smooth-transition;
  @include card-shadow;

  &:hover {
    transform: translateY(-2px);
    @include card-shadow-hover;
  }
}

@mixin button-error {
  background: $error-gradient;
  color: white;
  @include smooth-transition;
  @include card-shadow;

  &:hover {
    transform: translateY(-2px);
    @include card-shadow-hover;
  }
}

// Styles principaux
.partnership-request-detail {
  min-height: 100vh;
  background: linear-gradient(135deg, $bg-primary 0%, #dbeafe 50%, #e0e7ff 100%);

  // En-tête
  .header {
    background: linear-gradient(135deg, #0f172a 0%, #1e40af 50%, #7c3aed 100%);
    @include card-shadow;

    .back-button {
      @include glass-effect;
      @include smooth-transition;

      &:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateX(-2px);
      }
    }

    .status-badge {
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
  }

  // Cartes principales
  .detail-card {
    @include glass-effect;
    @include card-shadow;
    border-radius: 24px;
    overflow: hidden;
    @include smooth-transition;

    &:hover {
      @include card-shadow-hover;
      transform: translateY(-4px);
    }

    .card-header {
      background: $primary-gradient;
      position: relative;
      overflow: hidden;

      &::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 128px;
        height: 128px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        transform: translate(64px, -64px);
      }

      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 96px;
        height: 96px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        transform: translate(-48px, 48px);
      }
    }

    .avatar {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      @include smooth-transition;

      &:hover {
        transform: scale(1.05);
      }
    }
  }

  // Informations utilisateur
  .info-item {
    background: $bg-secondary;
    border-radius: 16px;
    @include smooth-transition;

    &:hover {
      background: $bg-accent;
      transform: translateY(-2px);
    }

    .info-icon {
      background: $primary-gradient;
      border-radius: 12px;
      @include smooth-transition;

      &:hover {
        transform: rotate(5deg) scale(1.1);
      }
    }
  }

  // Formulaires
  .form-group {
    .form-control {
      background: $bg-secondary;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      @include smooth-transition;

      &:focus {
        border-color: $primary-color;
        box-shadow: 0 0 0 4px rgba($primary-color, 0.1);
        background: white;
      }

      &:hover {
        border-color: #cbd5e1;
      }
    }

    label {
      font-weight: 500;
      color: #334155;
      margin-bottom: 8px;
    }
  }

  // Boutons
  .btn {
    border-radius: 12px;
    font-weight: 600;
    @include smooth-transition;

    &.btn-primary {
      @include button-primary;
    }

    &.btn-success {
      @include button-success;
    }

    &.btn-error {
      @include button-error;
    }

    &.btn-outline {
      background: transparent;
      border: 2px solid #e2e8f0;
      color: #475569;

      &:hover {
        border-color: $primary-color;
        color: $primary-color;
        background: rgba($primary-color, 0.05);
      }
    }
  }

  // Notes administratives
  .admin-notes {
    .note-item {
      background: $bg-secondary;
      border-radius: 16px;
      border-left: 4px solid transparent;
      @include smooth-transition;

      &.note-approve {
        border-left-color: $success-color;
        background: rgba($success-color, 0.05);
      }

      &.note-reject {
        border-left-color: $error-color;
        background: rgba($error-color, 0.05);
      }

      &.note-comment {
        border-left-color: $info-color;
        background: rgba($info-color, 0.05);
      }

      &:hover {
        transform: translateX(4px);
        @include card-shadow;
      }
    }

    .empty-state {
      color: #94a3b8;
      text-align: center;
      padding: 2rem 0;

      svg {
        opacity: 0.3;
        margin-bottom: 1rem;
      }
    }
  }

  // Historique des actions
  .action-history {
    .history-item {
      background: $bg-secondary;
      border-radius: 16px;
      @include smooth-transition;

      &:hover {
        background: $bg-accent;
        transform: translateY(-2px);
        @include card-shadow;
      }

      .history-icon {
        background: $primary-gradient;
        border-radius: 50%;
        @include smooth-transition;

        &:hover {
          transform: scale(1.1);
        }
      }

      .history-meta {
        font-size: 0.75rem;
        color: #64748b;
      }
    }
  }

  // Panel latéral
  .side-panel {
    .panel-card {
      @include glass-effect;
      @include card-shadow;
      border-radius: 24px;
      @include smooth-transition;

      &:hover {
        @include card-shadow-hover;
      }
    }

    .panel-header {
      border-bottom: 1px solid #e2e8f0;

      h3 {
        font-weight: 700;
        color: #1e293b;
      }

      .toggle-btn {
        @include smooth-transition;
        border-radius: 8px;

        &:hover {
          background: $bg-secondary;
          color: #374151;
        }

        svg {
          @include smooth-transition(0.2s);
        }
      }
    }

    .status-select {
      background: $bg-secondary;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      @include smooth-transition;

      &:focus {
        border-color: $primary-color;
        box-shadow: 0 0 0 4px rgba($primary-color, 0.1);
      }
    }
  }

  // Informations système
  .system-info {
    .info-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 0;
      border-bottom: 1px solid #f1f5f9;

      &:last-child {
        border-bottom: none;
      }

      .info-label {
        font-size: 0.875rem;
        color: #64748b;
      }

      .info-value {
        font-weight: 600;
        color: #1e293b;
      }
    }
  }

  // Bouton flottant
  .fab {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    z-index: 50;

    .fab-button {
      width: 4rem;
      height: 4rem;
      background: $primary-gradient;
      border-radius: 16px;
      @include card-shadow;
      @include smooth-transition;

      &:hover {
        @include card-shadow-hover;
        transform: scale(1.1);

        svg {
          transform: rotate(90deg);
        }
      }

      svg {
        @include smooth-transition;
      }
    }
  }

  // États de chargement
  .loading-spinner {
    .spinner {
      border: 4px solid #e2e8f0;
      border-top-color: $primary-color;
      animation: spin 1s linear infinite;
    }

    .pulse-dot {
      background: $primary-gradient;
      animation: pulse 2s infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    @keyframes pulse {
      0%,
      100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }
  }

  // Animations d'entrée
  .fade-in {
    animation: fadeIn 0.6s ease-out;
  }

  .slide-up {
    animation: slideUp 0.6s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  // Responsive design
  @media (max-width: 768px) {
    .detail-grid {
      grid-template-columns: 1fr;
    }

    .header {
      .header-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      .header-actions {
        width: 100%;
        justify-content: space-between;
      }
    }

    .info-grid {
      grid-template-columns: 1fr;
    }

    .fab {
      bottom: 1rem;
      right: 1rem;

      .fab-button {
        width: 3rem;
        height: 3rem;
      }
    }
  }

  @media (max-width: 640px) {
    padding: 1rem;

    .detail-card {
      margin: 0 -0.5rem;
      border-radius: 16px;
    }

    .panel-card {
      border-radius: 16px;
    }

    .btn {
      padding: 0.75rem 1rem;
      font-size: 0.875rem;
    }
  }

  // Utilitaires pour les statuts
  .status-pending {
    background-color: #fef3c7;
    color: #92400e;
    border-color: #fbbf24;
  }

  .status-approved {
    background-color: #d1fae5;
    color: #065f46;
    border-color: #10b981;
  }

  .status-rejected {
    background-color: #fee2e2;
    color: #991b1b;
    border-color: #ef4444;
  }

  .status-in-review {
    background-color: #dbeafe;
    color: #1e40af;
    border-color: #3b82f6;
  }

  // Scrollbar personnalisée
  .custom-scrollbar {
    &::-webkit-scrollbar {
      width: 6px;
    }

    &::-webkit-scrollbar-track {
      background: #f1f5f9;
      border-radius: 10px;
    }

    &::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 10px;

      &:hover {
        background: #94a3b8;
      }
    }
  }

  // Effets de focus pour l'accessibilité
  .focus-ring {
    &:focus {
      outline: 2px solid transparent;
      outline-offset: 2px;
      box-shadow: 0 0 0 4px rgba($primary-color, 0.1);
    }
  }

  // Classes utilitaires pour les animations
  .animate-bounce-subtle {
    animation: bounceSubtle 2s infinite;
  }

  @keyframes bounceSubtle {
    0%,
    20%,
    50%,
    80%,
    100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-4px);
    }
    60% {
      transform: translateY(-2px);
    }
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  // Effets de hover pour les cartes
  .hover-lift {
    @include smooth-transition;

    &:hover {
      transform: translateY(-4px);
      @include card-shadow-hover;
    }
  }

  .hover-glow {
    @include smooth-transition;

    &:hover {
      box-shadow: 0 0 20px rgba($primary-color, 0.3);
    }
  }

  // Typographie
  .text-gradient {
    background: $primary-gradient;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  // Bordures et séparateurs
  .border-gradient {
    border: 2px solid transparent;
    background:
      linear-gradient(white, white) padding-box,
      $primary-gradient border-box;
  }

  .divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, #e2e8f0, transparent);
  }
}

// Dark mode support (optionnel)
@media (prefers-color-scheme: dark) {
  .partnership-request-detail {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);

    .detail-card {
      background: rgba(30, 41, 59, 0.9);
      border-color: rgba(71, 85, 105, 0.3);
    }

    .info-item {
      background: rgba(51, 65, 85, 0.5);

      &:hover {
        background: rgba(71, 85, 105, 0.5);
      }
    }

    .form-control {
      background: rgba(51, 65, 85, 0.5);
      border-color: rgba(71, 85, 105, 0.5);
      color: #f1f5f9;

      &:focus {
        background: rgba(30, 41, 59, 0.8);
      }
    }

    .text-slate-900 {
      color: #f1f5f9 !important;
    }

    .text-slate-700 {
      color: #cbd5e1 !important;
    }

    .text-slate-600 {
      color: #94a3b8 !important;
    }
  }
}
